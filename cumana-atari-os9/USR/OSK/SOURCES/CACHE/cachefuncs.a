 psect ct_funcs,0,0,0,0,0ct_get: move.w sr,-(sp) ori.w #$0700,sr ; Interrupts sperren move.b #$0E,$8800.w ; Port A selektieren move.b $8800.w,d0 ; Einstellung holen move.w (sp)+,sr btst #6,d0 ; Cache an? beq.s ct_get10 ; nein! moveq.l #-1,d0 rtsct_get10: moveq.l #0,d0 rtsct_set: move.w sr,-(sp) ori.w #$0700,sr ; Interrupts sperren move.b #$0E,$8800.w ; Port A selektieren move.b $8800.w,d0 bset #6,d0 ; Cache anschalten move.b d0,$8802.w move.w (sp)+,sr moveq.l #0,d0 rtsct_clear: move.w sr,-(sp) ori.w #$0700,sr ; Interrupts sperren move.b #$0E,$8800.w ; Port A selektieren move.b $8800.w,d0 bclr #6,d0 ; Cache abschalten move.b d0,$8802.w move.w (sp)+,sr moveq.l #0,d0 rts