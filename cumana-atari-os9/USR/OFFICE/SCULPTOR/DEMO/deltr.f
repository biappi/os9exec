DELETE OLD TRANSACTIONS!file bk bank!file tr trans!temp date,Today's date,d4!temp p_date, ,d4!temp p_ref, ,a23+date,,2,70+b_accno,,5,35+b_name,,7,20+b_obal,,9,35+b_cbal,,10,35+t_date,,12,10+t_ref,,12,32+t_amt,,12,66	display dateX1      b_key = "A"	read bk nsr=X2	display b_accno-b_cbal	message "Find last transaction to be deleted"	endX2      error "No control record"	sleep 4	exit*f=Find	clear t_date-t_amt	unlock tr	input t_date,t_ref bs=F9	find tr nsr=F1	display t_date-t_amt	endF1      error "No such transaction"F9      end*n=Next	next tr nsr=N1	display t_date-t_amt	endN1      error "No more transactions"	end*d=Delete	check tr nrs=P3	prompt "Delete up to and including displayed transaction" no=P9	p_date = t_date: p_ref = t_ref	rewind trP1      next tr nsr=P2	if t_type = "C" then b_obal = b_obal + t_amt	if t_type = "D" then b_obal = b_obal - t_amt	display b_obal	delete tr	if p_date <> t_date or p_ref <> t_ref then goto P1P2      write bk	read bk	clear t_date-t_amt	endP3      error "Find last transaction to be deleted"P9      end*e=Exit	exit